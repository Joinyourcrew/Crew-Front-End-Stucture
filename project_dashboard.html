<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Project Dashboard - Crew Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        /* ...existing styles... */
        
        .loading {
            position: relative;
            opacity: 0.7;
            pointer-events: none;
        }

        .loading::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border: 2px solid #f60;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .message-time { color: #bbb; }
        .chat-input::placeholder { color: #bbb; }
    </style>
</head>
<script>
    function handleError(error, message) {
        console.error(error);
        showNotification("error", message);
    }

    function showNotification(type, message) {
        const modal = document.getElementById("completionModal");
        const content = modal.querySelector(".notification-content");
        content.innerHTML = `
            <div class="notification-icon ${type}">!</div>
            <h2 class="notification-title">${type === "error" ? "Error" : "Success"}</h2>
            <p class="notification-message">${message}</p>
            <button class="notification-btn" onclick="closeNotification()">Close</button>
        `;
        modal.style.display = "flex";
    }

    // Updated functions with error handling
    function saveDocLinks() {
        try {
            const links = {
                x: document.getElementById("x-link")?.value,
                github: document.getElementById("github-link")?.value,
                gitbook: document.getElementById("gitbook-link")?.value
            };

            if (!links.x || !links.github || !links.gitbook) {
                throw new Error("All fields are required");
            }

            localStorage.setItem("projectLinks", JSON.stringify(links));
            showNotification("success", "Documentation links saved successfully!");
        } catch (error) {
            handleError(error, "Failed to save documentation links");
        }
    }
</script>
